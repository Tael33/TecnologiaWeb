<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Dev Unificado: Conceitos & Eventos</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="script.js" defer></script>
</head>
<body>

    <nav class="sidebar">
        <div class="sidebar-header">
            <h3>Web Dev Unificado</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-header">Layout & Conceitos (CSS)</li>
            <li><a href="#s-alinhamento">Alinhamento Central</a></li>
            <li><a href="#s-flexbox">Flexbox</a></li>
            <li><a href="#s-grid">Grid Layout</a></li>
            <li><a href="#s-grid-galeria">Grid (Galeria)</a></li>
            <li><a href="#s-css-vars">Variáveis CSS</a></li>
            
            <li class="menu-header">Animações (CSS)</li>
            <li><a href="#s-transition">CSS Transition</a></li>
            <li><a href="#s-keyframe">CSS Keyframe (Animação)</a></li>

            <li class="menu-header">Conceitos (HTML)</li>
            <li><a href="#s-tabelas">Tabelas</a></li>
            <li><a href="#s-formularios">Formulários</a></li>

            <li class="menu-header">Eventos (JavaScript)</li>
            <li><a href="#s-evt-click">Click</a></li>
            <li><a href="#s-evt-key">Keydown</a></li>
            <li><a href="#s-evt-mouse">Mouseover / Out</a></li>
            <li><a href="#s-evt-delegation">Delegação de Evento</a></li>
            <li><a href="#s-evt-prevent">PreventDefault (Form)</a></li>

            <li class="menu-header">Componentes (JS)</li>
            <li><a href="#s-calculadora">Calculadora</a></li>
            <li><a href="#s-carrossel">Carrossel</a></li>
            <li><a href="#s-modal">Modal / Popup</a></li>
        </ul>
    </nav>

    <main class="content">
        <header class="content-header">
            <h1>Guia Unificado: HTML, CSS & JavaScript</h1>
            <p>Uma coleção de conceitos, componentes e exemplos interativos.</p>
        </header>

        <section class="content-section" id="s-alinhamento">
            <h2>Alinhamento e Centralização (CSS)</h2>
            <p>Diferentes métodos para centralizar elementos.</p>
            
            <h3>Margin: auto (Bloco)</h3>
            <div class="demo-box">
                <div class="demo-margin-auto">
                    <code>width: 70%; margin: 0 auto;</code>
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">.demo-margin-auto {
    width: 70%;
    margin: 0 auto; /* Centraliza horizontalmente */
    background: #555;
    color: white;
    padding: 10px;
    border-radius: 4px;
}</code></pre>
            </div>

            <h3>Flexbox (Itens)</h3>
            <div class="demo-box demo-flex-center">
                <div class="demo-item-centralizado">Flex!</div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">.demo-flex-center {
    display: flex;
    justify-content: center; /* Alinha no eixo X */
    align-items: center;   /* Alinha no eixo Y */
    height: 150px;
}
.demo-item-centralizado {
    width: 80px;
    height: 80px;
    /* ... */
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-flexbox">
            <h2>Layout com Flexbox</h2>
            <div class="demo-box">
                <div class="flex-container-demo">
                    <div class="flex-item-demo">1</div>
                    <div class="flex-item-demo">2</div>
                    <div class="flex-item-demo" style="flex-grow: 2;">3 (flex-grow: 2)</div>
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;div class="flex-container-demo"&gt;
    &lt;div class="flex-item-demo"&gt;1&lt;/div&gt;
    &lt;div class="flex-item-demo"&gt;2&lt;/div&gt;
    &lt;div class="flex-item-demo" style="flex-grow: 2;"&gt;3 (flex-grow: 2)&lt;/div&gt;
&lt;/div&gt;</code></pre>
                <pre><code class="language-css">.flex-container-demo {
    display: flex;
    gap: 10px;
}
.flex-item-demo {
    flex-basis: 100px;
    flex-grow: 1;
    /* ... */
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-grid">
            <h2>Layout com Grid</h2>
            <div class="demo-box">
                <div class="grid-container-demo">
                    <div class="grid-item-demo" style="grid-column: 1 / span 3;">Header (span 3)</div>
                    <div class="grid-item-demo" style="grid-row: 2 / span 2;">Sidebar (span 2)</div>
                    <div class="grid-item-demo">Main</div>
                    <div class="grid-item-demo">Extra</div>
                    <div class="grid-item-demo" style="grid-column: 2 / span 2;">Footer (span 2)</div>
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;div class="grid-container-demo"&gt;
    &lt;div class="grid-item-demo" style="grid-column: 1 / span 3;"&gt;Header&lt;/div&gt;
    &lt;div class="grid-item-demo" style="grid-row: 2 / span 2;"&gt;Sidebar&lt;/div&gt;
    &lt;div class="grid-item-demo"&gt;Main&lt;/div&gt;
    &lt;div class="grid-item-demo"&gt;Extra&lt;/div&gt;
    &lt;div class="grid-item-demo" style="grid-column: 2 / span 2;"&gt;Footer&lt;/div&gt;
&lt;/div&gt;</code></pre>
                <pre><code class="language-css">.grid-container-demo {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-auto-rows: minmax(80px, auto);
    gap: 10px;
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-grid-galeria">
            <h2>Grid (Galeria Responsiva)</h2>
            <div class="demo-box">
                <div class="galeria-responsiva-demo">
                    <div class="galeria-item-demo"><img src="https://via.placeholder.com/300x200/4a90e2/ffffff?text=Item+1" alt="Placeholder"></div>
                    <div class="galeria-item-demo"><img src="https://via.placeholder.com/300x200/f5a623/ffffff?text=Item+2" alt="Placeholder"></div>
                    <div class="galeria-item-demo"><img src="https://via.placeholder.com/300x200/7ed321/ffffff?text=Item+3" alt="Placeholder"></div>
                    <div class="galeria-item-demo"><img src="https://via.placeholder.com/300x200/d0021b/ffffff?text=Item+4" alt="Placeholder"></div>
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">.galeria-responsiva-demo {
    display: grid;
    /* Cria colunas flexíveis:
      - Tenta caber o máximo de colunas de 250px
      - Se não couber, elas encolhem (minmax)
      - Se sobrar espaço, elas crescem (1fr)
    */
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
}
.galeria-item-demo img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 4px;
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-css-vars">
            <h2>Variáveis CSS</h2>
            <p>Usando variáveis (Propriedades Customizadas) para temas.</p>
            <div class="demo-box">
                <div class="vars-demo-container">
                    <p>Este container usa variáveis.</p>
                    <button class="vars-demo-button">Botão</button>
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">:root {
   --cor-primaria-demo: #007bff;
   --cor-texto-demo: #333;
}
.vars-demo-container {
    border: 2px solid var(--cor-primaria-demo);
    color: var(--cor-texto-demo);
}
.vars-demo-button {
    background-color: var(--cor-primaria-demo);
    color: white;
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-transition">
            <h2>CSS Transition</h2>
            <p>Animação suave de propriedades ao mudar o estado (ex: <code>:hover</code>).</p>
            <div class="demo-box">
                <div class="demo-box-transition">Passe o mouse</div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">.demo-box-transition {
    width: 150px;
    height: 100px;
    background-color: var(--color-css);
    color: white;
    display: grid;
    place-items: center;
    border-radius: 5px;

    /* 1. A Propriedade a ser animada */
    transition-property: background-color, transform, border-radius;
    
    /* 2. A Duração */
    transition-duration: 0.4s;
    
    /* 3. O "Easing" (ritmo) */
    transition-timing-function: ease-in-out;

    /* Atalho: transition: all 0.4s ease-in-out; */
}

.demo-box-transition:hover {
    background-color: var(--color-js);
    transform: scale(1.1) rotate(5deg);
    border-radius: 50%;
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-keyframe">
            <h2>CSS Keyframe (Animação)</h2>
            <p>Animações complexas, em loop, que não dependem de estado.</p>
            <div class="demo-box">
                <button class="demo-btn-pulse">Eu pulso</button>
            </div>
            <div class="code-viewer">
                <pre><code class="language-css">/* 1. Define os quadros da animação */
@keyframes pulse-animation {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7);
    }
    70% {
        transform: scale(1.05);
        box-shadow: 0 0 10px 15px rgba(0, 123, 255, 0);
    }
    100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);
    }
}

/* 2. Aplica a animação ao elemento */
.demo-btn-pulse {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: var(--primary-color);
    color: white;
    
    /* Ligando a animação */
    animation-name: pulse-animation;
    animation-duration: 2s;
    animation-iteration-count: infinite;
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-tabelas">
            <h2>Tabelas HTML</h2>
            <p>Estrutura semântica com <code>&lt;thead&gt;</code>, <code>&lt;tbody&gt;</code>, e <code>&lt;th&gt;</code>.</p>
            <div class="demo-box">
                <table class="demo-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Produto</th>
                            <th>Preço</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>101</td>
                            <td>Produto A</td>
                            <td>R$ 19,90</td>
                        </tr>
                        <tr>
                            <td>102</td>
                            <td>Produto B</td>
                            <td>R$ 120,50</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;table class="demo-table"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;ID&lt;/th&gt;
            &lt;th&gt;Produto&lt;/th&gt;
            &lt;th&gt;Preço&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr&gt;
            &lt;td&gt;101&lt;/td&gt;
            &lt;td&gt;Produto A&lt;/td&gt;
            &lt;td&gt;R$ 19,90&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-formularios">
            <h2>Formulários HTML</h2>
            <p>Usando <code>&lt;label&gt;</code> (com <code>for</code>) e diferentes <code>input type</code>.</p>
            <div class="demo-box">
                <form class="demo-form">
                    <div class="form-group">
                        <label for="nome_usuario">Nome:</label>
                        <input type="text" id="nome_usuario" name="nome_usuario" placeholder="Seu nome">
                    </div>
                    <div class="form-group">
                        <label for="email_usuario">Email:</label>
                        <input type="email" id="email_usuario" name="email_usuario" required>
                    </div>
                    <div class="form-group">
                        <label for="tipo_conta">Tipo:</label>
                        <select id="tipo_conta" name="tipo_conta">
                            <option value="free">Free</option>
                            <option value="pro">Pro</option>
                        </select>
                    </div>
                    <button type="submit">Enviar</button>
                </form>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;form class="demo-form"&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="nome_usuario"&gt;Nome:&lt;/label&gt;
        &lt;input type="text" id="nome_usuario" ...&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="email_usuario"&gt;Email:&lt;/label&gt;
        &lt;input type="email" id="email_usuario" ...&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="tipo_conta"&gt;Tipo:&lt;/label&gt;
        &lt;select id="tipo_conta"&gt; ... &lt;/select&gt;
    &lt;/div&gt;
    &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;</code></pre>
            </div>
        </section>


        <section class="content-section" id="s-evt-click">
            <h2>Evento: <code>click</code></h2>
            <p>Disparado quando o usuário clica em um elemento.</p>
            <div class="demo-box" style="text-align: center;">
                <button id="demo-btn-click">Clique-me</button>
                <p id="demo-click-resultado" class="demo-resultado"></p>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;button id="demo-btn-click"&gt;Clique-me&lt;/button&gt;
&lt;p id="demo-click-resultado"&gt;&lt;/p&gt;</code></pre>
                <pre><code class="language-javascript">// (Dentro do script.js)
const btnClick = document.querySelector('#demo-btn-click');
const resClick = document.querySelector('#demo-click-resultado');

if (btnClick) {
    btnClick.addEventListener('click', () => {
        resClick.textContent = 'Botão clicado! ' + new Date().toLocaleTimeString();
    });
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-evt-key">
            <h2>Evento: <code>keydown</code></h2>
            <p>Disparado quando uma tecla é pressionada (enquanto o elemento está em foco).</p>
            <div class="demo-box">
                <input type="text" id="demo-input-key" placeholder="Digite aqui...">
                <p id="demo-key-resultado" class="demo-resultado"></p>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;input type="text" id="demo-input-key" placeholder="Digite aqui..."&gt;
&lt;p id="demo-key-resultado"&gt;&lt;/p&gt;</code></pre>
                <pre><code class="language-javascript">const inputKey = document.querySelector('#demo-input-key');
const resKey = document.querySelector('#demo-key-resultado');

if (inputKey) {
    inputKey.addEventListener('keydown', (event) => {
        // event.key contém a tecla pressionada
        resKey.textContent = `Você pressionou: ${event.key}`;
        
        if (event.key === 'Enter') {
            resKey.textContent = 'Você pressionou Enter!';
            // event.preventDefault(); // Poderia impedir o envio de um form
        }
    });
}</code></pre>
            </div>
        </section>
        
        <section class="content-section" id="s-evt-mouse">
            <h2>Eventos: <code>mouseover</code> / <code>mouseout</code></h2>
            <p>Disparados quando o cursor entra (<code>mouseover</code>) ou sai (<code>mouseout</code>) dos limites do elemento.</p>
            <div class="demo-box">
                <div id="demo-box-mouse">
                    Passe o mouse aqui
                </div>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;div id="demo-box-mouse"&gt;
    Passe o mouse aqui
&lt;/div&gt;</code></pre>
                <pre><code class="language-javascript">const boxMouse = document.querySelector('#demo-box-mouse');

if (boxMouse) {
    boxMouse.addEventListener('mouseover', () => {
        boxMouse.textContent = 'Cursor DENTRO';
        boxMouse.style.backgroundColor = 'var(--color-js)';
    });

    boxMouse.addEventListener('mouseout', () => {
        boxMouse.textContent = 'Cursor FORA';
        boxMouse.style.backgroundColor = '#eee';
    });
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-evt-delegation">
            <h2>Delegação de Evento (Event Delegation)</h2>
            <p>Adicionar um único listener a um elemento "pai" para gerenciar eventos em múltiplos "filhos".</p>
            <div class="demo-box">
                <ul id="demo-lista-delegation" class="demo-lista-delegation">
                    <li>Item 1</li>
                    <li>Item 2</li>
                    <li>Item 3</li>
                    <li>Item 4</li>
                </ul>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;ul id="demo-lista-delegation"&gt;
    &lt;li&gt;Item 1&lt;/li&gt;
    &lt;li&gt;Item 2&lt;/li&gt;
    &lt;li&gt;Item 3&lt;/li&gt;
    &lt;li&gt;Item 4&lt;/li&gt;
&lt;/ul&gt;</code></pre>
                <pre><code class="language-javascript">const listaDelegation = document.querySelector('#demo-lista-delegation');

if (listaDelegation) {
    listaDelegation.addEventListener('click', (event) => {
        // 'event.target' é o elemento exato que foi clicado
        
        // Verifica se o clique foi em um &lt;li&gt; (e não no &lt;ul&gt;)
        if (event.target.tagName === 'LI') {
            // Remove a classe 'active' de todos os filhos
            Array.from(listaDelegation.children).forEach(child => {
                child.classList.remove('active');
            });
            
            // Adiciona a classe 'active' apenas no alvo
            event.target.classList.add('active');
            console.log(`Clicou no: ${event.target.textContent}`);
        }
    });
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-evt-prevent">
            <h2>Evento: <code>event.preventDefault()</code></h2>
            <p>Impede o comportamento padrão do navegador (ex: enviar um formulário e recarregar a página).</p>
            <div class="demo-box">
                <form id="demo-form-prevent">
                    <input type="text" placeholder="Digite algo" value="Teste">
                    <button type="submit">Enviar (e não recarregar)</button>
                </form>
                <p id="demo-form-prevent-resultado" class="demo-resultado"></p>
            </div>
            <div class="code-viewer">
                <pre><code class="language-html">&lt;form id="demo-form-prevent"&gt;
    &lt;input type="text" ...&gt;
    &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;
&lt;p id="demo-form-prevent-resultado"&gt;&lt;/p&gt;</code></pre>
                <pre><code class="language-javascript">const formPrevent = document.querySelector('#demo-form-prevent');
const resFormPrevent = document.querySelector('#demo-form-prevent-resultado');

if (formPrevent) {
    formPrevent.addEventListener('submit', (event) => {
        // 1. Impede o comportamento padrão (recarregar a página)
        event.preventDefault(); 
        
        // 2. Agora podemos executar nossa própria lógica
        resFormPrevent.textContent = 'Formulário enviado via JS! A página não recarregou.';
    });
}</code></pre>
            </div>
        </section>
        
        <section class="content-section" id="s-calculadora">
            <h2>Componente: Calculadora</h2>
            <p>Exemplo de manipulação do DOM e lógica de estado.</p>
            
            <div class="demo-box demo-box-dark">
                <div class="calculadora">
                    <div class="calculadora-display">0</div>
                    <div class="calculadora-teclado">
                        <button class="key--operator" data-action="clear">AC</button>
                        <button class="key--operator" data-action="sign">+/-</button>
                        <button class="key--operator" data-action="percent">%</button>
                        <button class="key--operator" data-action="divide">÷</button>

                        <button>7</button>
                        <button>8</button>
                        <button>9</button>
                        <button class="key--operator" data-action="multiply">×</button>

                        <button>4</button>
                        <button>5</button>
                        <button>6</button>
                        <button class="key--operator" data-action="subtract">−</button>

                        <button>1</button>
                        <button>2</button>
                        <button>3</button>
                        <button class="key--operator" data-action="add">+</button>

                        <button class="key--span-2">0</button>
                        <button data-action="decimal">.</button>
                        <button class="key--operator" data-action="calculate">=</button>
                    </div>
                </div>
            </div>
            
            <div class="code-viewer">
                <pre><code class="language-html">&lt;!-- HTML da Calculadora --&gt;
&lt;div class="calculadora"&gt;
    &lt;div class="calculadora-display"&gt;0&lt;/div&gt;
    &lt;div class="calculadora-teclado"&gt;
        &lt;button class="key--operator" data-action="clear"&gt;AC&lt;/button&gt;
        &lt;button class="key--operator" data-action="sign"&gt;+/-&lt;/button&gt;
        &lt;button class="key--operator" data-action="percent"&gt;%&lt;/button&gt;
        &lt;button class="key--operator" data-action="divide"&gt;÷&lt;/button&gt;

        &lt;button&gt;7&lt;/button&gt; &lt;!-- Números não precisam de data-action --&gt;
        &lt;button&gt;8&lt;/button&gt;
        &lt;button&gt;9&lt;/button&gt;
        &lt;button class="key--operator" data-action="multiply"&gt;×&lt;/button&gt;
        
        &lt;!-- ... (restante dos botões) ... --&gt;

        &lt;button class="key--span-2"&gt;0&lt;/button&gt;
        &lt;button data-action="decimal"&gt;.&lt;/button&gt;
        &lt;button class="key--operator" data-action="calculate"&gt;=&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                
                <pre><code class="language-css">/* CSS da Calculadora */
.calculadora {
    width: 100%;
    max-width: 320px;
    margin: 0 auto;
    border: 1px solid #444;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.calculadora-display {
    background-color: #222;
    color: white;
    font-size: 2.5em;
    padding: 20px;
    text-align: right;
    word-wrap: break-word;
}
.calculadora-teclado {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1px;
}
.calculadora-teclado button {
    font-size: 1.5em;
    padding: 20px 0;
    border: none;
    background-color: #555;
    color: white;
    cursor: pointer;
}
.calculadora-teclado button:hover {
    background-color: #666;
}
.key--operator {
    background-color: #f39c12;
}
.key--operator:hover {
    background-color: #f1c40f;
}
.key--span-2 {
    grid-column: span 2;
}</code></pre>

                <pre><code class="language-javascript">// (Trecho do script.js - Lógica da Calculadora)

// Função auxiliar de cálculo
function calcular(n1, op, n2) {
    const num1 = parseFloat(n1);
    const num2 = parseFloat(n2);
    if (op === 'add') return num1 + num2;
    if (op === 'subtract') return num1 - num2;
    if (op === 'multiply') return num1 * num2;
    if (op === 'divide') return num1 / num2;
    return num2; // fallback
}

// Encapsulamento da lógica da calculadora
const elCalculadora = document.querySelector('.calculadora');

if (elCalculadora) {
    const display = elCalculadora.querySelector('.calculadora-display');
    const teclado = elCalculadora.querySelector('.calculadora-teclado');
    let estado = {
        displayValue: '0',
        primeiroOperando: null,
        operador: null,
        esperandoSegundoOperando: false
    };

    teclado.addEventListener('click', (e) => {
        if (!e.target.matches('button')) return; // Ignora cliques fora dos botões
        
        const key = e.target;
        const action = key.dataset.action;
        const keyContent = key.textContent;
        const displayValue = estado.displayValue;

        // 1. Se for um número
        if (!action) {
            if (displayValue === '0' || estado.esperandoSegundoOperando) {
                estado.displayValue = keyContent;
                estado.esperandoSegundoOperando = false;
            } else {
                estado.displayValue += keyContent;
            }
        }
        
        // 2. Se for um decimal
        if (action === 'decimal' && !displayValue.includes('.')) {
            estado.displayValue += '.';
        }

        // 3. Se for um operador
        if (action === 'add' || action === 'subtract' || action === 'multiply' || action === 'divide') {
            if (estado.operador && estado.esperandoSegundoOperando) {
                estado.operador = action; // Troca o operador
                return;
            }

            if (estado.primeiroOperando === null) {
                estado.primeiroOperando = displayValue;
            } else if (estado.operador) {
                const result = calcular(estado.primeiroOperando, estado.operador, displayValue);
                estado.displayValue = String(result);
                estado.primeiroOperando = String(result);
            }
            
            estado.operador = action;
            estado.esperandoSegundoOperando = true;
        }

        // 4. Se for 'clear'
        if (action === 'clear') {
            estado.displayValue = '0';
            estado.primeiroOperando = null;
            estado.operador = null;
            estado.esperandoSegundoOperando = false;
        }

        // 5. Se for 'calculate' (=)
        if (action === 'calculate') {
            if (estado.operador && estado.primeiroOperando !== null) {
                const result = calcular(estado.primeiroOperando, estado.operador, displayValue);
                estado.displayValue = String(result);
                estado.primeiroOperando = String(result); // Permite cálculos contínuos
                estado.operador = null;
                estado.esperandoSegundoOperando = false;
            }
        }

        // Atualiza o display no final
        display.textContent = estado.displayValue;
    });
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-carrossel">
            <h2>Componente: Carrossel</h2>
            <p>Um slideshow simples usando <code>transform: translateX()</code>.</p>
            
            <div class="demo-box demo-box-dark">
                <div class="carrossel">
                    <div class="carrossel-viewport">
                        <div class="carrossel-filmstrip">
                            <div class="carrossel-slide" style="background-color: #e74c3c;">
                                <img src="https://via.placeholder.com/600x300/e74c3c/ffffff?text=Slide+1" alt="Slide 1">
                            </div>
                            <div class="carrossel-slide" style="background-color: #3498db;">
                                <img src="https://via.placeholder.com/600x300/3498db/ffffff?text=Slide+2" alt="Slide 2">
                            </div>
                            <div class="carrossel-slide" style="background-color: #2ecc71;">
                                <img src="https://via.placeholder.com/600x300/2ecc71/ffffff?text=Slide+3" alt="Slide 3">
                            </div>
                        </div>
                    </div>
                    <button class="carrossel-btn prev" aria-label="Slide anterior">&lt;</button>
                    <button class="carrossel-btn next" aria-label="Próximo slide">&gt;</button>
                </div>
            </div>

            <div class="code-viewer">
                <pre><code class="language-html">&lt;!-- HTML do Carrossel --&gt;
&lt;div class="carrossel"&gt;
    &lt;!-- Viewport: A "janela" que esconde o excesso --&gt;
    &lt;div class="carrossel-viewport"&gt;
        &lt;!-- Filmstrip: O container que se move --&gt;
        &lt;div class="carrossel-filmstrip"&gt;
            &lt;!-- Slides --&gt;
            &lt;div class="carrossel-slide"&gt;
                &lt;img src="..." alt="Slide 1"&gt;
            &lt;/div&gt;
            &lt;div class="carrossel-slide"&gt;
                &lt;img src="..." alt="Slide 2"&gt;
            &lt;/div&gt;
            &lt;div class="carrossel-slide"&gt;
                &lt;img src="..." alt="Slide 3"&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- Botões de Navegação --&gt;
    &lt;button class="carrossel-btn prev"&gt;&amp;lt;&lt;/button&gt;
    &lt;button class="carrossel-btn next"&gt;&amp;gt;&lt;/button&gt;
&lt;/div&gt;</code></pre>

                <pre><code class="language-css">/* CSS do Carrossel */
.carrossel {
    position: relative;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}
.carrossel-viewport {
    width: 100%;
    overflow: hidden; /* Essencial: esconde os slides fora da vista */
    border-radius: 8px;
}
.carrossel-filmstrip {
    display: flex;
    /* Duração da transição ao trocar de slide */
    transition: transform 0.4s ease-in-out; 
}
.carrossel-slide {
    flex-shrink: 0; /* Impede que os slides encolham */
    width: 100%;    /* Cada slide ocupa 100% do viewport */
    min-height: 300px;
}
.carrossel-slide img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    display: block;
}

/* Estilo dos Botões */
.carrossel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0,0,0,0.5);
    color: white;
    border: none;
    font-size: 1.5em;
    padding: 10px 15px;
    cursor: pointer;
    z-index: 10;
    border-radius: 50%;
}
.carrossel-btn:hover {
    background-color: rgba(0,0,0,0.8);
}
.carrossel-btn.prev {
    left: 10px;
}
.carrossel-btn.next {
    right: 10px;
}</code></pre>

                <pre><code class="language-javascript">// (Trecho do script.js - Lógica do Carrossel)

// Encapsulamento da lógica do Carrossel
const elCarrossel = document.querySelector('.carrossel');

if (elCarrossel) {
    const filmstrip = elCarrossel.querySelector('.carrossel-filmstrip');
    const slides = Array.from(filmstrip.children);
    const prevBtn = elCarrossel.querySelector('.carrossel-btn.prev');
    const nextBtn = elCarrossel.querySelector('.carrossel-btn.next');
    const totalSlides = slides.length;
    let currentIndex = 0;

    // Função para mover o filmstrip
    function goToSlide(index) {
        // Move o filmstrip horizontalmente
        filmstrip.style.transform = `translateX(-${index * 100}%)`;
        currentIndex = index;
    }

    // Evento do botão "Próximo"
    nextBtn.addEventListener('click', () => {
        let nextIndex = currentIndex + 1;
        if (nextIndex >= totalSlides) {
            nextIndex = 0; // Volta para o primeiro slide
        }
        goToSlide(nextIndex);
    });

    // Evento do botão "Anterior"
    prevBtn.addEventListener('click', () => {
        let prevIndex = currentIndex - 1;
        if (prevIndex < 0) {
            prevIndex = totalSlides - 1; // Vai para o último slide
        }
        goToSlide(prevIndex);
    });

    // Inicia no primeiro slide
    goToSlide(0);
}</code></pre>
            </div>
        </section>

        <section class="content-section" id="s-modal">
            <h2>Componente: Modal / Popup</h2>
            <p>Uma janela que sobrepõe o conteúdo, controlada via JS (adicionando/removendo classes CSS).</p>
            
            <div class="demo-box" style="text-align: center;">
                <button id="btn-abrir-modal" class="demo-btn-primary">Abrir o Modal</button>
            </div>

            <div id="meu-modal" class="modal-container">
                <div class="modal-content">
                    <button id="btn-fechar-modal" class="modal-close-btn" aria-label="Fechar modal">&times;</button>
                    <h3>Este é um Modal</h3>
                    <p>Este conteúdo está sobrepondo a página. O JavaScript controla a visibilidade adicionando ou removendo a classe <code>.ativo</code> no container do modal.</p>
                    <p>Você pode fechá-lo clicando no "X" ou clicando na área escura (overlay).</p>
                </div>
            </div>

            <div class="code-viewer">
                <pre><code class="language-html">&lt;!-- HTML: O Botão de Abrir --&gt;
&lt;button id="btn-abrir-modal"&gt;Abrir o Modal&lt;/button&gt;

&lt;!-- HTML: A estrutura do Modal (geralmente no fim do &lt;body&gt;) --&gt;
&lt;div id="meu-modal" class="modal-container"&gt;
    &lt;!-- O "X" para fechar --&gt;
    &lt;div class="modal-content"&gt;
        &lt;button id="btn-fechar-modal" class="modal-close-btn"&gt;&amp;times;&lt;/button&gt;
        &lt;h3&gt;Este é um Modal&lt;/h3&gt;
        &lt;p&gt;Este conteúdo está sobrepondo a página...&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
                
                <pre><code class="language-css">/* CSS do Modal */
.modal-container {
    /* 1. Escondido por padrão */
    visibility: hidden;
    opacity: 0;
    
    /* 2. Configuração de Posição (Tela Cheia) */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    /* 3. Fundo (Overlay) */
    background-color: rgba(0, 0, 0, 0.7);
    
    /* 4. Centraliza o conteúdo */
    display: grid;
    place-items: center;
    
    /* 5. Transição suave */
    transition: opacity 0.3s ease, visibility 0.3s ease;
    z-index: 1000;
}

/* 6. ESTADO ATIVO (Controlado via JS) */
.modal-container.ativo {
    visibility: visible;
    opacity: 1;
}

/* O conteúdo de dentro (a caixa branca) */
.modal-content {
    background-color: white;
    color: #333;
    padding: 30px;
    border-radius: 8px;
    width: 90%;
    max-width: 500px;
    position: relative;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    
    /* Transição de "zoom" */
    transform: scale(0.9);
    transition: transform 0.3s ease;
}
.modal-container.ativo .modal-content {
    transform: scale(1);
}

/* Botão de Fechar */
.modal-close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background: transparent;
    border: none;
    font-size: 2em;
    color: #888;
    cursor: pointer;
}
.modal-close-btn:hover {
    color: #333;
}</code></pre>
                
                <pre><code class="language-javascript">// (Trecho do script.js - Lógica do Modal)

// Encapsulamento da lógica do Modal
const btnAbrir = document.querySelector('#btn-abrir-modal');
const btnFechar = document.querySelector('#btn-fechar-modal');
const modal = document.querySelector('#meu-modal');

if (btnAbrir && btnFechar && modal) {
    
    // Função para abrir
    function abrirModal() {
        modal.classList.add('ativo');
    }
    
    // Função para fechar
    function fecharModal() {
        modal.classList.remove('ativo');
    }

    // 1. JS adiciona a classe 'ativo' no clique de ABRIR
    btnAbrir.addEventListener('click', abrirModal);

    // 2. JS remove a classe 'ativo' no clique de FECHAR
    btnFechar.addEventListener('click', fecharModal);
    
    // 3. (Bônus) Fechar o modal se clicar fora (na área cinza)
    modal.addEventListener('click', (event) => {
        // Se o alvo do clique (event.target) for o PRÓPRIO container do modal...
        if (event.target === modal) {
             fecharModal();
        }
    });
}</code></pre>
            </div>
        </section>

    </main>

</body>
</html>